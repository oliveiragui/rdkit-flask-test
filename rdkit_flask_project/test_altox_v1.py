from rdkit import Chem
from rdkit.Chem import Draw

from flask import Flask, render_template

molecule = Chem.MolFromSmiles("CCOCCNSC=O")

molecule_image = Draw.MolToImage(molecule)

molecule_encoded_hard_code = "iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAIAAAD2HxkiAAAFZUlEQVR4nO3cUXbaOABA0bhndtT9LyFr8nwwTUkGEgeMnxTu/UratKhCz7INdFnX9QXo/KoHAM9OhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIcRECDERQkyEEBMhxEQIMRFCTIQQEyHERAgxEUJMhBATIf9Zlpdleffthy8ufsv9RAgxEfLXutroAv/UA2AC45e5LMu6rvUobiRC3jlthh/W8/m3Ywa5ruuyLKcv6rF8mwj5IU75zZji3NeEy5iH5StmGe10V4bnE7uu62lXnGW2X+bdCd8OeFMc+eYa7USuzedcu+J8l7MXZ3bY6Z5rtBPZPofjz/ZkEX5+E2yo6f5yMFPf0AudT+w35vD/t5uGMc06mOjIN9FQ53LvacXpKnG82Z4gwttWarK+Jxrqn4cecE1esOW04vMfOP/R0f7No0d47znbgTN+51APTnHUXeGC7RO79ScH63Dcu6P7LMq32+0PnfQ9hvrti5xbTZTf6+v3Jnbr/edjVsVmI+6ED9kTHjTpD/hrH7olDrYHXHXK7/fvG8e6dQ7HmI7hInzsVrDvpD/yKdw9xccd+nefhtfX5eb83tkysgG2xIEiPOiiaJdJP+qZ2+WQdNT5+A4PcecGeMHGkaVb4igRHv2i2cXn5vyNTtcGc/iB885j05Gr61pCp1+/+Ftf/tl9bH/WtqyBvfURlq+Vna/QD6v14uLtjpc3zFI1sR9yOj+3vHaeudv55+e+THHLGniAMsKxXqqOnoBv2ThjQ03sQYFt90mKzxbhcG/amiHCky/fuzfWxG47HT3ateuRJ4lwqOP0X/NE+DLt+8JH3BU/edKPWgOHfp7w9Cmv0ye+jnzcn+fDp+ZGnti3bXBEY0zXce+YGfA0aXaHvcmGh/L8nSluTz+DEa8Jr3nOlyjgyc39f8zADyBCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBiIoSYCCEmQoiJEGIihJgIISZCiIkQYiKEmAghJkKIiRBi/wIc989hqZEjgAAAAABJRU5ErkJggg=="

base_64_html = "data:image/png;base64, {0}".format(molecule_encoded_hard_code)

app = Flask(__name__)

@app.route('/drawMolecule')
def draw_molecule():
    return render_template('draw_molecule.html', value = base_64_html)

app.run()